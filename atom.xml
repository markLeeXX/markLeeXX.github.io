<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>mark&#39;s BLOG</title>
  
  <subtitle>Android开发者</subtitle>
  <link href="http://hookandroid.com/atom.xml" rel="self"/>
  
  <link href="http://hookandroid.com/"/>
  <updated>2021-01-25T03:01:08.609Z</updated>
  <id>http://hookandroid.com/</id>
  
  <author>
    <name>mark</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>B站网络请求</title>
    <link href="http://hookandroid.com/post/bilibili.html"/>
    <id>http://hookandroid.com/post/bilibili.html</id>
    <published>2021-01-25T02:30:24.000Z</published>
    <updated>2021-01-25T03:01:08.609Z</updated>
    
    <content type="html"><![CDATA[<p><a href="bilibili/BiliApi.py">BiliApi.py</a></p><h4 id="获取视频列表"><a href="#获取视频列表" class="headerlink" title="获取视频列表"></a>获取视频列表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;api.bilibili.com&#x2F;x&#x2F;player&#x2F;pagelist?bvid&#x3D;BV1tp4y1i7rL&amp;jsonp&#x3D;jsonp</span><br></pre></td></tr></table></figure><h4 id="获取视频Url"><a href="#获取视频Url" class="headerlink" title="获取视频Url"></a>获取视频Url</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;api.bilibili.com&#x2F;x&#x2F;player&#x2F;playurl?cid&#x3D;217171581&amp;avid&#x3D;&amp;bvid&#x3D;BV1tp4y1i7rL&amp;qn&#x3D;80&amp;fourk&#x3D;0&amp;otype&#x3D;json</span><br></pre></td></tr></table></figure><h4 id="下载视频"><a href="#下载视频" class="headerlink" title="下载视频"></a>下载视频</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;88.0.4324.104 Safari&#x2F;537.36</span><br><span class="line">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;avif,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3;q&#x3D;0.9</span><br><span class="line">Referer: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1tp4y1i7rL</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;bilibili/BiliApi.py&quot;&gt;BiliApi.py&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;获取视频列表&quot;&gt;&lt;a href=&quot;#获取视频列表&quot; class=&quot;headerlink&quot; title=&quot;获取视频列表&quot;&gt;&lt;/a&gt;获取视频列表&lt;/h4&gt;&lt;figu</summary>
      
    
    
    
    
    <category term="抓包" scheme="http://hookandroid.com/tags/%E6%8A%93%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>c语言入门</title>
    <link href="http://hookandroid.com/post/c.html"/>
    <id>http://hookandroid.com/post/c.html</id>
    <published>2021-01-21T06:53:13.000Z</published>
    <updated>2021-01-21T11:06:16.580Z</updated>
    
    <content type="html"><![CDATA[<h4 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> time 2021</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M(x, y) time*(x&gt;y?x:y)</span></span><br></pre></td></tr></table></figure><h4 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> *b = &amp;a; <span class="comment">// 内存地址赋值</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"值1：%d, %d\n"</span>, a, *b);</span><br><span class="line"></span><br><span class="line">*b = <span class="number">200</span>; <span class="comment">// 真正赋值</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"值2：%d, %d\n"</span>, a, *b);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"内存地址：%#x, %#x\n"</span>, a, *b);</span><br><span class="line"></span><br><span class="line">b++;<span class="comment">// 主动修改内存地址</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"值3：%d, %d\n"</span>, a, *b);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"内存地址：%#x, %#x\n"</span>, a, *b);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> arr[] = &#123;<span class="number">66</span>, <span class="number">15</span>, <span class="number">100</span>, <span class="number">888</span>, <span class="number">252</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, <span class="keyword">sizeof</span>(arr));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> len = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"数组长度：%d\n"</span>, len);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"值：%d\n"</span>, *(arr + <span class="number">1</span>));<span class="comment">// 等价</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"值：%d\n"</span>, arr[<span class="number">1</span>]);<span class="comment">// 等价</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *p = arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, *(p + <span class="number">1</span>));<span class="comment">// 15 取数组第一个数字</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, *p + <span class="number">1</span>);<span class="comment">// 67 取数组第0个数字+1</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, *p++);<span class="comment">// 66</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, *p);<span class="comment">// 15</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, *++p);<span class="comment">// 100</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, ++*p);<span class="comment">// 101</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"指针：%d\n"</span>, *p);<span class="comment">// 101</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;宏定义&quot;&gt;&lt;a href=&quot;#宏定义&quot; class=&quot;headerlink&quot; title=&quot;宏定义&quot;&gt;&lt;/a&gt;宏定义&lt;/h4&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span </summary>
      
    
    
    
    
    <category term="C语言" scheme="http://hookandroid.com/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>nginx配置</title>
    <link href="http://hookandroid.com/post/null.html"/>
    <id>http://hookandroid.com/post/null.html</id>
    <published>2020-11-05T06:13:33.000Z</published>
    <updated>2020-11-05T08:32:56.910Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">默认配置</span><br><span class="line">&#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Xshell </span><br><span class="line"></span><br><span class="line">从服务器下载到本地</span><br><span class="line">get </span><br><span class="line"></span><br><span class="line">进入目录</span><br><span class="line">lcd</span><br><span class="line"></span><br><span class="line">上传到服务器</span><br><span class="line">put</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;</summary>
      
    
    
    
    
    <category term="服务器" scheme="http://hookandroid.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="nginx" scheme="http://hookandroid.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>frida使用教程</title>
    <link href="http://hookandroid.com/post/frida_use.html"/>
    <id>http://hookandroid.com/post/frida_use.html</id>
    <published>2020-11-04T10:54:54.000Z</published>
    <updated>2020-11-06T07:06:23.493Z</updated>
    
    <content type="html"><![CDATA[<h3 id="hook代码"><a href="#hook代码" class="headerlink" title="hook代码"></a>hook代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> frida</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># hook代码，采用javascript编写</span></span><br><span class="line">jscode = <span class="string">"""</span></span><br><span class="line"><span class="string">//javascript代码，重点</span></span><br><span class="line"><span class="string">Java.perform(function () &#123;</span></span><br><span class="line"><span class="string">    var apkParseCompat = Java.use('com.hookandroid.apk.library.ApkParseCompat');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    // 打印日志工具</span></span><br><span class="line"><span class="string">    console.log(Java.use("android.util.Log").getStackTraceString(Java.use("java.lang.Throwable").$new()));</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    apkParseCompat.isExitPackage.implementation = function(packageName)&#123;</span></span><br><span class="line"><span class="string">        send("hook start isExitPackage...");</span></span><br><span class="line"><span class="string">        send("参数1：" + packageName);</span></span><br><span class="line"><span class="string">        return true;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#125;);</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 自定义回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_message</span><span class="params">(message, data)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> message[<span class="string">'type'</span>] == <span class="string">'send'</span>:</span><br><span class="line">        print(<span class="string">"[*] &#123;0&#125;"</span>.format(message[<span class="string">'payload'</span>]))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(message)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重点的4行代码</span></span><br><span class="line">process = frida.get_remote_device().attach(<span class="string">'com.hookandroid.apk.sample'</span>)</span><br><span class="line">script = process.create_script(jscode)</span><br><span class="line">script.on(<span class="string">'message'</span>, on_message)</span><br><span class="line">script.load()</span><br><span class="line">sys.stdin.read()</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">进入指定app内存</span><br><span class="line">objection -g com.android.settings explore</span><br><span class="line"></span><br><span class="line">内存中so</span><br><span class="line">memory list modules</span><br><span class="line"></span><br><span class="line">内存中so函数</span><br><span class="line">memory list exports libssl.so</span><br><span class="line"></span><br><span class="line">内存中activity</span><br><span class="line">android hooking list activities</span><br><span class="line"></span><br><span class="line">内存中所有类</span><br><span class="line">android hooking list classes</span><br><span class="line"></span><br><span class="line">观察内存类调用</span><br><span class="line">android hooking watch class android.bluetooth.BluetoothDevice</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">启动应用进程</span><br><span class="line">frida -U -f com.android.settings </span><br><span class="line"></span><br><span class="line">执行脚本</span><br><span class="line">python hook.py</span><br><span class="line"></span><br><span class="line">打开应用</span><br><span class="line">%resume</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;hook代码&quot;&gt;&lt;a href=&quot;#hook代码&quot; class=&quot;headerlink&quot; title=&quot;hook代码&quot;&gt;&lt;/a&gt;hook代码&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu</summary>
      
    
    
    
    
    <category term="Android" scheme="http://hookandroid.com/tags/Android/"/>
    
    <category term="逆向" scheme="http://hookandroid.com/tags/%E9%80%86%E5%90%91/"/>
    
    <category term="frida" scheme="http://hookandroid.com/tags/frida/"/>
    
  </entry>
  
  <entry>
    <title>frida安装教程</title>
    <link href="http://hookandroid.com/post/frida_install.html"/>
    <id>http://hookandroid.com/post/frida_install.html</id>
    <published>2020-11-04T07:36:27.000Z</published>
    <updated>2020-11-05T08:10:33.872Z</updated>
    
    <content type="html"><![CDATA[<p>需要安装python3，及已获取root权限手机或模拟器。</p><a id="more"></a><h3 id="安装python3"><a href="#安装python3" class="headerlink" title="安装python3"></a>安装python3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.python.org&#x2F;downloads&#x2F;release&#x2F;python-360&#x2F;</span><br><span class="line"></span><br><span class="line">配置环境变量</span><br></pre></td></tr></table></figure><h3 id="安装frida"><a href="#安装frida" class="headerlink" title="安装frida"></a>安装frida</h3><h4 id="更新pip"><a href="#更新pip" class="headerlink" title="更新pip"></a>更新pip</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">确认pip</span><br><span class="line">python -m ensurepip</span><br><span class="line"></span><br><span class="line">更新pip</span><br><span class="line">python -m pip install --upgrade pip</span><br><span class="line"></span><br><span class="line">安装wheel</span><br><span class="line">pip install wheel</span><br></pre></td></tr></table></figure><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">推荐FRIDA稳定版</span><br><span class="line">pip install frida&#x3D;&#x3D;12.8.0</span><br><span class="line">pip install frida-tools&#x3D;&#x3D;5.3.0</span><br><span class="line">pip install objection&#x3D;&#x3D;1.8.4</span><br><span class="line">以上安装需要科学上网</span><br></pre></td></tr></table></figure><h3 id="运行frida-server"><a href="#运行frida-server" class="headerlink" title="运行frida-server"></a>运行frida-server</h3><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;frida&#x2F;frida&#x2F;releases</span><br><span class="line"></span><br><span class="line">含图形化页面服务端</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;wrlu&#x2F;FridaHooker</span><br></pre></td></tr></table></figure><h4 id="推送到模拟器"><a href="#推送到模拟器" class="headerlink" title="推送到模拟器"></a>推送到模拟器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb push frida-server-12.8.0-android-x86 &#x2F;data&#x2F;local&#x2F;frida-server</span><br><span class="line">su</span><br><span class="line">chmod 777 frida-server</span><br><span class="line">.&#x2F;frida-server</span><br></pre></td></tr></table></figure><h3 id="检测运行状态"><a href="#检测运行状态" class="headerlink" title="检测运行状态"></a>检测运行状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb forward tcp:27042 tcp:27042</span><br><span class="line">adb forward tcp:27043 tcp:27043</span><br><span class="line"></span><br><span class="line">frida-ps -Ua</span><br><span class="line">出现进程列表，表示连接成功</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;需要安装python3，及已获取root权限手机或模拟器。&lt;/p&gt;</summary>
    
    
    
    
    <category term="Android" scheme="http://hookandroid.com/tags/Android/"/>
    
    <category term="逆向" scheme="http://hookandroid.com/tags/%E9%80%86%E5%90%91/"/>
    
    <category term="frida" scheme="http://hookandroid.com/tags/frida/"/>
    
  </entry>
  
  <entry>
    <title>adb常用命令</title>
    <link href="http://hookandroid.com/post/adb.html"/>
    <id>http://hookandroid.com/post/adb.html</id>
    <published>2020-11-03T10:24:39.000Z</published>
    <updated>2020-11-06T09:45:07.689Z</updated>
    
    <content type="html"><![CDATA[<h4 id="卸载系统应用"><a href="#卸载系统应用" class="headerlink" title="卸载系统应用"></a>卸载系统应用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm uninstall [-k] [--user USER_ID] 包名</span><br><span class="line">参数说明：</span><br><span class="line">-k 卸载应用且保留数据与缓存，如果不加 -k 则全部删除。</span><br><span class="line">--user 指定用户 id，Android 系统支持多个用户，默认用户只有一个，id&#x3D;0。</span><br><span class="line">可以用这个命令，user 和 debug 版本都可以用，所有应用都能卸载掉。</span><br><span class="line"></span><br><span class="line">比如这里卸载 360 浏览器：</span><br><span class="line">adb shell pm uninstall -k --user 0 com.qihoo.browser</span><br><span class="line"></span><br><span class="line">恢复安装</span><br><span class="line">adb shell pm install-existing --user 0 com.qihoo.browser</span><br></pre></td></tr></table></figure><h4 id="debug模式启动apk"><a href="#debug模式启动apk" class="headerlink" title="debug模式启动apk"></a>debug模式启动apk</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">debug启动</span><br><span class="line">adb shell am start -D -n com.ali.tg.testapp&#x2F;.MainActivity</span><br><span class="line"></span><br><span class="line">等待debug</span><br><span class="line">adb shell am set-debug-app -w com.example.jishuxiaoheiwu.appdebugsample</span><br><span class="line"></span><br><span class="line">设置持久debug</span><br><span class="line">adb shell am set-debug-app -w --persistent  com.example.jishuxiaoheiwu.appdebugsample</span><br><span class="line"></span><br><span class="line">清除持久debug</span><br><span class="line">adb shell am clear-debug-app</span><br></pre></td></tr></table></figure><h4 id="查看栈顶Activity"><a href="#查看栈顶Activity" class="headerlink" title="查看栈顶Activity"></a>查看栈顶Activity</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys activity top | findstr ACTIVITY</span><br><span class="line"></span><br><span class="line">adb shell dumpsys activity top | findstr pid</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;卸载系统应用&quot;&gt;&lt;a href=&quot;#卸载系统应用&quot; class=&quot;headerlink&quot; title=&quot;卸载系统应用&quot;&gt;&lt;/a&gt;卸载系统应用&lt;/h4&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut</summary>
      
    
    
    
    
    <category term="adb" scheme="http://hookandroid.com/tags/adb/"/>
    
  </entry>
  
  <entry>
    <title>Git基础教程</title>
    <link href="http://hookandroid.com/post/git.html"/>
    <id>http://hookandroid.com/post/git.html</id>
    <published>2020-11-03T06:24:25.000Z</published>
    <updated>2020-11-13T10:43:28.821Z</updated>
    
    <content type="html"><![CDATA[<h3 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;markLee&quot;</span><br><span class="line">git config --global user.email &quot;946768930@qq.com&quot;</span><br></pre></td></tr></table></figure><h3 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 添加文件到暂存区，可以多次添加多种文件</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="git/提交.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 提交文件到分支</span><br><span class="line">git commit -m &quot;版本更新&quot;</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="git/添加.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看当前仓库状态</span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看精简日志</span><br><span class="line">git log --pretty&#x3D;oneline</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看曾经输入的所有命令</span><br><span class="line">git reflog</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 回退到指定commit</span><br><span class="line">git reset --hard 887ef6b</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 回退到上一次commit</span><br><span class="line">git reset --hard HEAD^</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看工作区和版本库内容区别</span><br><span class="line">git diff HEAD -- readme.txt</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 撤销修改</span><br><span class="line">1.git add之后撤销，回退到add后状态</span><br><span class="line">2.git add之前撤销，和版本库状态一样</span><br><span class="line">git checkout -- readme.txt</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 删除文件</span><br><span class="line">git rm read.txt</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 生成公钥</span><br><span class="line">ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 关联远程仓库</span><br><span class="line">git remote add origin git@github.com:michaelliao&#x2F;learngit.git</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 删除远程仓库关联</span><br><span class="line">git remote rm origin</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 推送代码</span><br><span class="line">&#x2F;&#x2F; -u 表达本地分支和远程分支相关联</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Linux与Windows换行符</span><br><span class="line">git config --global core.autocrlf false</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建分支并切换</span><br><span class="line">git checkout -b dev</span><br><span class="line">git switch -c dev</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建本地及远程分支</span><br><span class="line">git checkout -b dev origin&#x2F;dev</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 列出所有分支</span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 删除指定分支</span><br><span class="line">git branch -d dev</span><br><span class="line">git branch -D dev 强行删除，丢失未提交数据</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 把dev分支合并到当前分支</span><br><span class="line">git merge dev</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看分支合并图</span><br><span class="line">git log --graph</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 合并分支关闭fast forward模式</span><br><span class="line">git merge --no-ff -m &quot;merged bug fix 101&quot; issue-101</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 当前分支已修改文件缓存一下</span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line">git stash list 查看当前缓存</span><br><span class="line">git stash apply 恢复缓存</span><br><span class="line">git stash drop 删除缓存</span><br><span class="line">git stash pop 恢复并删除</span><br><span class="line"></span><br><span class="line">git stash apply stash@&#123;0&#125; 恢复指定缓存</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 迁移指定commit</span><br><span class="line">git cherry-pick 4c805e2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 查看远程分支</span><br><span class="line">git remote</span><br><span class="line">git remote -v 详细信息</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 推送分支</span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 本地分支关联远程分支</span><br><span class="line">git branch --set-upstream-to&#x3D;origin&#x2F;dev dev</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 对指定提交打标签</span><br><span class="line">git tag v0.9 f52c633</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 推送指定标签到远程仓库</span><br><span class="line">git push origin v1.0</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 推送所有标签到远程仓库</span><br><span class="line">git push origin --tags</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 删除指定标签</span><br><span class="line">git tag -d v1.0</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 删除远程指定标签</span><br><span class="line">git push origin:&#x2F;refs&#x2F;tags&#x2F;v1.0</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 配置git命令别名</span><br><span class="line">git config --global alias.st status</span><br><span class="line"></span><br><span class="line">git config --global alias.lg &quot;log --color --graph --pretty&#x3D;format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;初始化配置&quot;&gt;&lt;a href=&quot;#初始化配置&quot; class=&quot;headerlink&quot; title=&quot;初始化配置&quot;&gt;&lt;/a&gt;初始化配置&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;</summary>
      
    
    
    
    
    <category term="Git" scheme="http://hookandroid.com/tags/Git/"/>
    
    <category term="版本控制" scheme="http://hookandroid.com/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"/>
    
  </entry>
  
  <entry>
    <title>Android设备CPU架构兼容性</title>
    <link href="http://hookandroid.com/post/android_cpu.html"/>
    <id>http://hookandroid.com/post/android_cpu.html</id>
    <published>2020-11-02T02:37:50.000Z</published>
    <updated>2020-11-03T04:26:32.888Z</updated>
    
    <content type="html"><![CDATA[<p>CPU设备兼容性</p><a id="more"></a><p>armeabi设备只兼容armeabi；</p><p>armeabi-v7a设备兼容armeabi-v7a、armeabi；</p><p>arm64-v8a设备兼容arm64-v8a、armeabi-v7a、armeabi；</p><p>X86设备兼容X86、armeabi；</p><p>X86_64设备兼容X86_64、X86、armeabi；</p><p>mips64设备兼容mips64、mips；</p><p>mips只兼容mips；</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;CPU设备兼容性&lt;/p&gt;</summary>
    
    
    
    <category term="Android" scheme="http://hookandroid.com/categories/Android/"/>
    
    
    <category term="Android" scheme="http://hookandroid.com/tags/Android/"/>
    
    <category term="CPU" scheme="http://hookandroid.com/tags/CPU/"/>
    
  </entry>
  
</feed>
